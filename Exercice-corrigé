Exercice:

ClassLycee(idClass, Niveau)
Etudiants(IdEtudiant, fk_idClass, Nom, Prenom, DateNaissance)
Matieres(IdMatiere, NomMatiere)
Notes(IdNote, fk_IdEtudiant, fk_IdMatiere,  NoteRecue)

0- Écrire une requête qui renvoie la liste des notes d’un étudiant. Exemple étudiant :DUPONT Laurent
1- Ecrire une requete SQL qui permet d’avoir le nombre total d’élèves sachant qu’il peut y avoir des doublons 
2- Calculer la moyenne de chaque élève
3- Calculer la moyenne de la classe
4- Calculer la plus grande et plus petite moyenne de la classe
5- Modifier les notes de l’étudiant “DUPONT Laurent” dans les matières de maths et Physiques

Correction

0- 
SELECT m.NomMatiere, n.NoteRecue

FROM Matieres M, Notes N, Etudiants E, ClassLycee C

WHERE 
C.idClass= E.fk_idClass
AND 
N.fk_IdEtudiant=E.IdEtudiant
AND 
M.IdMatiere = N.fk_IdMatiere
AND E.Nom = 'DUPONT' AND E.Prenom = 'Laurent'

1- 

SELECT DISTINCT COUNT(*)
FROM Etudiants

2-
SELECT E.Nom, E.Prenom, E.DateNaissance, AVG(N.NoteRecue) MoyenneEleve
FROM Notes N, Etudiants E, ClassLycee C
WHERE N.fk_IdEtudiant=E.IdEtudiant AND C.idClass=E.IdEtudiant

3-
SELECT C.Niveau, AVG(N.NoteRecue) MoyenneClasse
FROM Notes N, Etudiants E, ClassLycee C
WHERE C.idClass=E.IdEtudiant

4-
SELECT E.Nom, E.Prenom, E.DateNaissance, MAX(N.NoteRecue) MoyenneEleve
FROM Notes N, Etudiants E, ClassLycee C
WHERE N.fk_IdEtudiant=E.IdEtudiant AND C.idClass=E.IdEtudiant

5-
UPDATE Notes 
SET NoteRecue = 17
WHERE fk_IdMatiere=1 AND fk_IdEtudiant=1

UPDATE Notes 
SET NoteRecue = 12
WHERE fk_IdMatiere=2 AND fk_IdEtudiant=1
